# Corretoras Brasileiras em Funcionamento

## Trabalho final


## üîçComo utilizar esse reposit√≥rio

Para criar um ambiente virtual, instalar os requisitos voc√™ pode seguir os seguintes passos:

1. Abra o terminal ou prompt de comando.

2. Navegue at√© o diret√≥rio do seu projeto.

3. Crie um ambiente virtual usando o comando `python -m venv projeto_final`.

4. Ative o ambiente virtual usando o comando source `projeto_final/bin/activate` (Linux/Mac) ou `projeto_final\Scripts\activate` (Windows).

5. Instale os requisitos do projeto usando o comando `pip install -r requirements.txt`, onde requirements.txt √© o arquivo que cont√©m as depend√™ncias do projeto.

Para realizar o proceso de ETL, execute o arquivo `get_data.py`, que ir√° gerar o arquivo corretoras.db, que cont√©m o banco de dados com as informa√ß√µes das corretoras.

```bash
python get_data.py
```
## üìä ETL - Projeto Final

A ideia do projeto final consiste em buscar dados de uma API (Extract), processar (Transform) e fazer a carga em um banco de dados (Load). 

Visando garantir que a requisi√ß√£o na API fosse bem sucedida, utilizamos a biblioteca "plyer" para implementar a fun√ß√£o "notify", que emite um alerta caso a opera√ß√£o falhe. Direcionando, portanto, para uma corre√ß√£o. 

Optamos pelo Brasil API e utilizamos o dado de corretoras brasileiras. 

Esse dado apresentava as seguintes colunas em sua configura√ß√£o inicial: 

* cnpj
* type
* nome_social
* nome_comercial
* status
* email
* telefone
* cep
* pais
* uf
* municipio
* bairro
* complemento
* logradouro
* data_patrimonio_liquido
* valor_patrimonio_liquido
* codigo_cvm
* data_inicio_situacao
* data_registro
 
Para facilitar a compreens√£o, essa tabela original foi dividida em tres outras tabelas, sendo:

* Corretoras: 
    * cnpj
    * type
    * nome_social
    * nome_comercial
    * status

* Patrim√¥nios:
    * cnpj
    * data_patrimonio_liquido
    * valor_patrimonio_liquido
    * codigo_cvm
    * data_inicio_situacao
    * data_registro

* Endere√ßos:
    * cnpj
    * email
    * telefone
    * cep
    * pais
    * uf
    * municipio
    * bairro
    * complemento
    * logradouro
    * data_patrimonio_liquido
    * valor_patrimonio_liquido

Al√©m disso foram feitos os devidos tratamentos com o dado, como filtrar apenas corretoras ativas.

Em seguida foi feita a conex√£o no sqlite e a cria√ß√£o das tabelas respeitando os requistos acima (PK e FK do CNPJ).

Finalmente, foram feitos alguns testes para validar o banco de dados criado.

## üõ†Ô∏è Constru√≠do com:
Este c√≥digo foi escrito com aux√≠lio do conte√∫do do material do curso de Python para dados da Coderhouse, ChatGPT3.5 e reposit√≥rios do Github.
Coderhouse: https://www.coderhouse.com.br/online/python-br
ChatGPT: https://chat.openai.com/
Google Colab:https://colab.google/
Github: https://github.com/ccrivelin/pythoncoderhouse

## üñáÔ∏è Colaborando:
Caso deseje colaborar, entre em contato com os autores para acesso ao reposit√≥rio do Github: https://github.com/ccrivelin/pythoncoderhouse

## üìå Vers√£o:
N√≥s usamos o controle de vers√£o pelo Github atrav√©s do comando Commit

## ‚úíÔ∏è Autores:
Carolina Crivelin, Daniella Nascimento, Douglas Farias

Respons√°veis pelo desenvolvimento, controle de vers√£o e documenta√ß√£o

## üéÅ Express√µes de gratid√£o
Agradecemos ao nosso tutor Felipe Correia por todo apoio durante as aulas e execu√ß√£o do projeto üì¢